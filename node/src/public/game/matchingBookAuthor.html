<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Book-Author Memory Game</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap');
body { font-family: 'Fredoka One', cursive; display:flex; justify-content:center; align-items:center; min-height:100vh; margin:0; background:linear-gradient(120deg,#b6dcfe,#e2efff);}
.board { display:grid; grid-template-columns:repeat(5,100px); grid-gap:10px; perspective:800px;}
.card { width:100px; height:140px; position:relative; transform-style:preserve-3d; transition:transform 0.6s; cursor:pointer; border-radius:8px;}
.card.flipped { transform:rotateY(180deg);}
.card.matched { transform:rotateY(180deg); cursor:default; box-shadow:0 0 10px rgba(0,255,0,0.4);}
.card .front, .card .back { position:absolute; width:100%; height:100%; border-radius:8px; backface-visibility:hidden; display:flex; align-items:center; justify-content:center; overflow:hidden; flex-direction:column;}
.card .front { background:#f0c674; font-size:2em; color:white; border:2px solid #e0b450;}
.card .back img { width:100%; height:100%; object-fit:contain; border-radius:8px;}
.author-name { width:100%; text-align:center; font-size:10px; background:rgba(0,0,0,0.5); color:#fff; padding:2px 0; border-radius:0 0 8px 8px; position:absolute; bottom:0;}
.overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(255,255,255,0.9); display:flex; justify-content:center; align-items:center; transition:opacity 0.4s ease;}
.overlay.hidden { opacity:0; pointer-events:none;}
.gameover { background:white; padding:30px 50px; border-radius:20px; border:4px solid #4fa3ff; text-align:center;}
.reset { background:#4fa3ff; color:white; border:none; border-radius:50%; font-size:24px; width:60px; height:60px; margin-top:15px; cursor:pointer;}
</style>
</head>
<body>
<div class="board"></div>

<template id="card-template">
  <div class="card">
    <div class="front">?</div>
    <div class="back">
      <img src="">
      <div class="author-name"></div>
    </div>
  </div>
</template>

<div class="overlay hidden">
  <div class="gameover">
    <p>YOU WON!</p>
    <button class="reset">↻</button>
  </div>
</div>

<script>
const board = document.querySelector('.board');
const template = document.querySelector('#card-template');
const overlay = document.querySelector('.overlay');
const reset = document.querySelector('.reset');
const state = { selections: [], locked: false, matches: 0 };

// ✅ Realistic book-author pairs with author photo
const bookAuthorPairs = [
  { bookImg:"https://covers.openlibrary.org/b/id/10523361-L.jpg", authorImg:"https://upload.wikimedia.org/wikipedia/commons/4/4d/Robert_Kiyosaki.jpg", authorName:"Robert Kiyosaki" },
  { bookImg:"https://covers.openlibrary.org/b/id/11153224-L.jpg", authorImg:"https://upload.wikimedia.org/wikipedia/commons/a/a3/Robert_Greene_2015.jpg", authorName:"Robert Greene" },
  { bookImg:"https://covers.openlibrary.org/b/id/12785545-L.jpg", authorImg:"https://upload.wikimedia.org/wikipedia/commons/0/0b/Tony_Robbins_-_2011.jpg", authorName:"Tony Robbins" },
  { bookImg:"https://covers.openlibrary.org/b/id/10498683-L.jpg", authorImg:"https://upload.wikimedia.org/wikipedia/commons/2/2a/Bill_Burnett_2013.jpg", authorName:"Bill Burnett" },
  { bookImg:"https://covers.openlibrary.org/b/id/11362120-L.jpg", authorImg:"https://upload.wikimedia.org/wikipedia/commons/1/1f/Brian_Tracy_2010.jpg", authorName:"Brian Tracy" },
  { bookImg:"https://covers.openlibrary.org/b/id/12689626-L.jpg", authorImg:"https://upload.wikimedia.org/wikipedia/commons/8/87/Stephen_R_Covey.jpg", authorName:"Stephen Covey" },
  { bookImg:"https://covers.openlibrary.org/b/id/10728506-L.jpg", authorImg:"https://upload.wikimedia.org/wikipedia/commons/0/0b/Dale_Carnegie.jpg", authorName:"Dale Carnegie" },
  { bookImg:"https://covers.openlibrary.org/b/id/12855977-L.jpg", authorImg:"https://upload.wikimedia.org/wikipedia/commons/8/87/Stephen_R_Covey.jpg", authorName:"Stephen Covey" },
  { bookImg:"https://covers.openlibrary.org/b/id/13503467-L.jpg", authorImg:"https://upload.wikimedia.org/wikipedia/commons/0/0b/Dale_Carnegie.jpg", authorName:"Dale Carnegie" },
  { bookImg:"https://covers.openlibrary.org/b/id/10849156-L.jpg", authorImg:"https://upload.wikimedia.org/wikipedia/commons/2/2a/Bill_Burnett_2013.jpg", authorName:"Bill Burnett" }
];

reset.addEventListener('click', resetGame);

function resetGame(){
  state.locked = true; state.selections=[]; state.matches=0; board.innerHTML=""; overlay.classList.add("hidden");
  createBoard(bookAuthorPairs);
}

function createBoard(pairs){
  const cardsData = [];
  for(let pair of pairs){
    cardsData.push({img:pair.bookImg,name:pair.authorName});   // Book card
    cardsData.push({img:pair.authorImg,name:pair.authorName}); // Author card
  }
  shuffle(cardsData).forEach(data=>{
    const card = template.content.firstElementChild.cloneNode(true);
    const imgEl = card.querySelector('img');
    const nameEl = card.querySelector('.author-name');
    imgEl.src = data.img;
    nameEl.textContent = data.name;
    card.dataset.name = data.name;
    card.classList.remove('flipped','matched'); 
    card.addEventListener('click',()=>selectCard(card));
    board.appendChild(card);
  });
  state.locked=false;
}

function selectCard(card){
  if(state.locked || card.classList.contains('flipped') || card.classList.contains('matched')) return;
  card.classList.add('flipped');
  state.selections.push(card);
  if(state.selections.length===2){
    state.locked=true;
    const [first, second]=state.selections;
    if(first.dataset.name===second.dataset.name){
      first.classList.add('matched'); second.classList.add('matched');
      state.matches++;
      state.selections=[];
      state.locked=false;
      if(state.matches===10) setTimeout(()=>overlay.classList.remove('hidden'),500);
    } else {
      setTimeout(()=>{ first.classList.remove('flipped'); second.classList.remove('flipped'); state.selections=[]; state.locked=false; },900);
    }
  }
}

function shuffle(array){ for(let i=array.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [array[i],array[j]]=[array[j],array[i]]; } return array; }

resetGame();
</script>
</body>
</html>
